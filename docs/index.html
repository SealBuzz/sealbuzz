<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-addDRTLambdaEventPermission.html">addDRTLambdaEventPermission</a><ul class='methods'><li data-type='method'><a href="module-addDRTLambdaEventPermission.html#~addLambdaPermission">addLambdaPermission</a></li><li data-type='method'><a href="module-addDRTLambdaEventPermission.html#~createTarget">createTarget</a></li></ul></li><li><a href="module-addTriggerLambdaEventPermission.html">addTriggerLambdaEventPermission</a><ul class='methods'><li data-type='method'><a href="module-addTriggerLambdaEventPermission.html#~addLambdaPermission">addLambdaPermission</a></li><li data-type='method'><a href="module-addTriggerLambdaEventPermission.html#~createTarget">createTarget</a></li></ul></li><li><a href="module-config.html">config</a></li><li><a href="module-createRole.html">createRole</a><ul class='methods'><li data-type='method'><a href="module-createRole.html#~addPermissions">addPermissions</a></li><li data-type='method'><a href="module-createRole.html#~attachPolicy">attachPolicy</a></li><li data-type='method'><a href="module-createRole.html#~createRole">createRole</a></li></ul></li><li><a href="module-deploy.html">deploy</a></li><li><a href="module-deployApiGateway.html">deployApiGateway</a><ul class='methods'><li data-type='method'><a href="module-deployApiGateway.html#~createApiGateway">createApiGateway</a></li><li data-type='method'><a href="module-deployApiGateway.html#~createResource">createResource</a></li><li data-type='method'><a href="module-deployApiGateway.html#~getResources">getResources</a></li><li data-type='method'><a href="module-deployApiGateway.html#~mainPutMethodRequest">mainPutMethodRequest</a></li><li data-type='method'><a href="module-deployApiGateway.html#~setIntegrationRequest">setIntegrationRequest</a></li><li data-type='method'><a href="module-deployApiGateway.html#~setIntegrationResponse">setIntegrationResponse</a></li><li data-type='method'><a href="module-deployApiGateway.html#~setMethodResponse">setMethodResponse</a></li></ul></li><li><a href="module-deployAutoScaling.html">deployAutoScaling</a><ul class='methods'><li data-type='method'><a href="module-deployAutoScaling.html#~createReadScalingPolicy">createReadScalingPolicy</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~createWriteScalingPolicy">createWriteScalingPolicy</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~destroyReadScalingPolicy">destroyReadScalingPolicy</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~destroyReadScalingTarget">destroyReadScalingTarget</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~destroyWriteScalingPolicy">destroyWriteScalingPolicy</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~destroyWriteScalingTarget">destroyWriteScalingTarget</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~registerScalableReads">registerScalableReads</a></li><li data-type='method'><a href="module-deployAutoScaling.html#~registerScalableWrites">registerScalableWrites</a></li></ul></li><li></li><li><a href="module-deployClientCheckRoute.html">deployClientCheckRoute</a><ul class='methods'><li data-type='method'><a href="module-deployClientCheckRoute.html#~createResource">createResource</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~deployResource">deployResource</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~getResources">getResources</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~putMethodRequest">putMethodRequest</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~setIntegrationRequest">setIntegrationRequest</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~setIntegrationResponse">setIntegrationResponse</a></li><li data-type='method'><a href="module-deployClientCheckRoute.html#~setMethodResponse">setMethodResponse</a></li></ul></li><li><a href="module-deployCloudwatchEvent.html">deployCloudwatchEvent</a><ul class='methods'><li data-type='method'><a href="module-deployCloudwatchEvent.html#~createCloudWatchEventRule">createCloudWatchEventRule</a></li></ul></li><li><a href="module-deployDlq.html">deployDlq</a><ul class='methods'><li data-type='method'><a href="module-deployDlq.html#~createDLQ">createDLQ</a></li><li data-type='method'><a href="module-deployDlq.html#~getArn">getArn</a></li></ul></li><li><a href="module-deployDRTLambda.html">deployDRTLambda</a><ul class='methods'><li data-type='method'><a href="module-deployDRTLambda.html#~createPreLambda">createPreLambda</a></li><li data-type='method'><a href="module-deployDRTLambda.html#~setLambdaConcurrency">setLambdaConcurrency</a></li></ul></li><li><a href="module-deployDynamo.html">deployDynamo</a><ul class='methods'><li data-type='method'><a href="module-deployDynamo.html#~createDynamo">createDynamo</a></li><li data-type='method'><a href="module-deployDynamo.html#~createDynamo">createDynamo</a></li></ul></li><li></li><li><a href="module-deployPollingRoute.html">deployPollingRoute</a><ul class='methods'><li data-type='method'><a href="module-deployPollingRoute.html#~createResource">createResource</a></li><li data-type='method'><a href="module-deployPollingRoute.html#~getResources">getResources</a></li><li data-type='method'><a href="module-deployPollingRoute.html#~putMethodRequest">putMethodRequest</a></li><li data-type='method'><a href="module-deployPollingRoute.html#~setIntegrationRequest">setIntegrationRequest</a></li><li data-type='method'><a href="module-deployPollingRoute.html#~setIntegrationResponse">setIntegrationResponse</a></li><li data-type='method'><a href="module-deployPollingRoute.html#~setMethodResponse">setMethodResponse</a></li></ul></li><li><a href="module-deployPollingS3Object.html">deployPollingS3Object</a><ul class='methods'><li data-type='method'><a href="module-deployPollingS3Object.html#~uploadToS3">uploadToS3</a></li></ul></li><li><a href="module-deployPostLambda.html">deployPostLambda</a><ul class='methods'><li data-type='method'><a href="module-deployPostLambda.html#~createPostLambda">createPostLambda</a></li></ul></li><li><a href="module-deployPreLambda.html">deployPreLambda</a><ul class='methods'><li data-type='method'><a href="module-deployPreLambda.html#~addLambdaPermission">addLambdaPermission</a></li><li data-type='method'><a href="module-deployPreLambda.html#~createPreLambda">createPreLambda</a></li></ul></li><li><a href="module-deployS3.html">deployS3</a><ul class='methods'><li data-type='method'><a href="module-deployS3.html#~createBucket">createBucket</a></li><li data-type='method'><a href="module-deployS3.html#~uploadToS3">uploadToS3</a></li></ul></li><li><a href="module-deploySqs.html">deploySqs</a><ul class='methods'><li data-type='method'><a href="module-deploySqs.html#~createSQS">createSQS</a></li></ul></li><li><a href="module-deployTriggerLambda.html">deployTriggerLambda</a></li><li><a href="module-destroy.html">destroy</a></li><li><a href="module-destroyApiGateway.html">destroyApiGateway</a><ul class='methods'><li data-type='method'><a href="module-destroyApiGateway.html#~destroyRestApi">destroyRestApi</a></li><li data-type='method'><a href="module-destroyApiGateway.html#~getApiId">getApiId</a></li></ul></li><li><a href="module-destroyCloudwatchEvent.html">destroyCloudwatchEvent</a><ul class='methods'><li data-type='method'><a href="module-destroyCloudwatchEvent.html#~destroyCloudwatchEvent">destroyCloudwatchEvent</a></li><li data-type='method'><a href="module-destroyCloudwatchEvent.html#~destroyCloudwatchTarget">destroyCloudwatchTarget</a></li></ul></li><li><a href="module-destroyDynamo.html">destroyDynamo</a><ul class='methods'><li data-type='method'><a href="module-destroyDynamo.html#~destroyTable">destroyTable</a></li></ul></li><li><a href="module-destroyLambda.html">destroyLambda</a><ul class='methods'><li data-type='method'><a href="module-destroyLambda.html#~destroyLambda">destroyLambda</a></li></ul></li><li><a href="module-destroyRole.html">destroyRole</a><ul class='methods'><li data-type='method'><a href="module-destroyRole.html#~destroyRole">destroyRole</a></li><li data-type='method'><a href="module-destroyRole.html#~detachPermissions">detachPermissions</a></li><li data-type='method'><a href="module-destroyRole.html#~detachPolicy">detachPolicy</a></li></ul></li><li><a href="module-destroyS3.html">destroyS3</a><ul class='methods'><li data-type='method'><a href="module-destroyS3.html#~deleteBucket">deleteBucket</a></li><li data-type='method'><a href="module-destroyS3.html#~deleteBucketObjects">deleteBucketObjects</a></li><li data-type='method'><a href="module-destroyS3.html#~listBucketObjects">listBucketObjects</a></li></ul></li><li><a href="module-destroySQS.html">destroySQS</a><ul class='methods'><li data-type='method'><a href="module-destroySQS.html#~destroyQueue">destroyQueue</a></li><li data-type='method'><a href="module-destroySQS.html#~getQueueUrl">getQueueUrl</a></li></ul></li><li><a href="module-init.html">init</a></li><li><a href="module-logger.html">logger</a><ul class='methods'><li data-type='method'><a href="module-logger.html#~debugError">debugError</a></li><li data-type='method'><a href="module-logger.html#~debugSuccess">debugSuccess</a></li><li data-type='method'><a href="module-logger.html#~error">error</a></li><li data-type='method'><a href="module-logger.html#~failDeploy">failDeploy</a></li><li data-type='method'><a href="module-logger.html#~help">help</a></li><li data-type='method'><a href="module-logger.html#~highlight">highlight</a></li></ul></li><li><a href="module-promptQuestions.html">promptQuestions</a><ul class='methods'><li data-type='method'><a href="module-promptQuestions.html#~promptQuestions">promptQuestions</a></li></ul></li><li><a href="module-retry.html">retry</a></li><li><a href="module-setRate.html">setRate</a><ul class='methods'><li data-type='method'><a href="module-setRate.html#~getLambdaConfig">getLambdaConfig</a></li><li data-type='method'><a href="module-setRate.html#~setLambdaConcurrency">setLambdaConcurrency</a></li><li data-type='method'><a href="module-setRate.html#~updateLambdaConfig">updateLambdaConfig</a></li><li data-type='method'><a href="module-setRate.html#~validateRate">validateRate</a></li></ul></li><li><a href="module-toggle.html">toggle</a><ul class='methods'><li data-type='method'><a href="module-toggle.html#~getLambdaConfig">getLambdaConfig</a></li><li data-type='method'><a href="module-toggle.html#~updateLambdaConfig">updateLambdaConfig</a></li></ul></li><li><a href="module-utilities.html">utilities</a><ul class='methods'><li data-type='method'><a href="module-utilities.html#~createFile">createFile</a></li><li data-type='method'><a href="module-utilities.html#~fileExists">fileExists</a></li><li data-type='method'><a href="module-utilities.html#~getContentType">getContentType</a></li><li data-type='method'><a href="module-utilities.html#~getFilePaths">getFilePaths</a></li><li data-type='method'><a href="module-utilities.html#~readFile">readFile</a></li><li data-type='method'><a href="module-utilities.html#~validateInitRan">validateInitRan</a></li><li data-type='method'><a href="module-utilities.html#~validateProfileName">validateProfileName</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><p><img src="https://i.imgur.com/WWwmLWT.png" alt="Beekeeper Header"></p>
<h2>Overview</h2>
<p>Beekeeper is an open-sourced Backend as a Service (BaaS) built to handle bursty traffic from one-off events like a sale or promotion.
. Set up a virtual waitroom in a few minutes, and tear it down in seconds.</p>
<p><img src="https://i.imgur.com/Y7tmgLd.png" alt="Beekeeper deploy"></p>
<p>There is a difference between infrastructure needed for normal business activities and infrastructure needed for high traffic one-off events. An abrupt increase in website traffic can be the effect of many different causes. One such cause is an event like a Black Friday sale or similar promotion.  If the existing infrastructure is unprepared for the spike in traffic it may result in a Denial of Service. The desired service may be unavailable until traffic declines to a manageable level. Beekeeper is a fast and flexible solution to this bursty traffic.</p>
<h3>Beekeeper Architecture</h3>
<p><img src="https://i.imgur.com/hSbN8DX.png" alt="Beekeeper architecture"></p>
<h2>The Team</h2>
<p><strong><a href="https://www.linkedin.com/in/ryan-schaul-87a922b5">Ryan Schaul</a></strong> <em>Software Engineer</em> • Chicago, IL</p>
<p><strong><a href="https://eustisic.me">Ian Eustis</a></strong> <em>Software Engineer</em> • Portland, OR</p>
<p><strong><a href="https://www.justinzeng.com">Justin Zeng</a></strong> <em>Software Engineer</em> • Los Angeles, CA</p>
<p><strong><a href="https://aaroncrn.com">Aaron Crane</a></strong> <em>Software Engineer</em> • San Francisco, CA</p>
<h2>Getting Started</h2>
<h3>Prerequisites</h3>
<ul>
<li><a href="https://aws.amazon.com/premiumsupport/knowledge-center/create-and-activate-aws-account/">AWS account</a></li>
<li><a href="https://docs.aws.amazon.com/powershell/latest/userguide/pstools-appendix-sign-up.html">Set your access keys</a></li>
<li><a href="https://docs.aws.amazon.com/cli/latest/userguide/install-cliv2.html">AWS CLI</a></li>
<li>Node.js &gt;= 12.x</li>
<li>NPM</li>
</ul>
<h3>Install Beekeeper</h3>
<pre class="prettyprint source lang-bash"><code>npm install -g beekeeper-cli
</code></pre>
<hr>
<h2>Commands</h2>
<h4><code>beekeeper init</code></h4>
<p><em>creates a waitroom account, enabling the deploy, destroy, on, off, and set-rate commands.  <code>init</code> can be run multiple times to create mutiple accounts</em></p>
<p><img src="https://i.imgur.com/LkEmZki.png" alt="Beekeeper init"></p>
<p>The <code>init</code> command will prompt for the following information:</p>
<ul>
<li>Profile name - <em>differentiates your various waitrooms from each other, and lets you choose which one to create, modify, or destroy.</em></li>
<li>Waiting room name - <em>publicly displayed in the online waitroom, so it's best to choose something that describes what the waitroom is for, such as the name of your company so that your customers know that they're in the right place</em></li>
<li>AWS region - <em>the aws region that you would like to place your waitroom in</em></li>
<li>URL endpoint/protected URL - <em>the URL that you want to direct people to after they go through the waitroom.</em></li>
<li>Allowed users per minute - <em>the max amount of users that you want to allow onto your website per minute. The ideal amount differs greatly between websites, and its best to find your ideal traffic through load testing and tracking analytics. Beekeeper allows a minimum of 10, and no set maximum</em></li>
<li>Enable Dynamic Rate Throttling (DRT) - <em>beekeeper can do automatic health-checks of your website, and throttle the traffic to it if beekeeper detects that it has slowed down to an unhealthy level</em></li>
</ul>
<hr>
<h4><code>beekeeper deploy &lt;name&gt;</code></h4>
<p><em>Builds custom files, uploads them to s3 buckets, and sets up the waitroom architecture on your AWS account. Once it's done, you are given two URLS; the waiting room URL is what you provide to your customers/viewers publicly, and the client check endpoint can optionally be added to your own backend to prevent people from skipping the queue.</em></p>
<p>The following components will be created on your AWS account:</p>
<ul>
<li>A master IAM role</li>
<li>S3 Bucket with all needed static assets (html/css/js/images)</li>
<li>SQS with dead letter queue (DLQ) attached</li>
<li>DynamoDB table</li>
<li>3-4 lambdas (depending on if the DRT is enabled)</li>
<li>All required permissions</li>
<li><img src="https://i.imgur.com/Y7tmgLd.png" alt="Beekeeper deploy"></li>
</ul>
<hr>
<h4><code>beekeeper destroy &lt;name&gt;</code></h4>
<p><em>Removes all of the aws components associated with the given name.  The URLs will no longer be valid</em></p>
<hr>
<h4><code>beekeeper config</code></h4>
<p><em>Lists all of the accounts that were created with <code>init</code></em></p>
<hr>
<h4><code>beekeeper off &lt;name&gt;</code></h4>
<p><em>Turns off the waitroom. The provided URLS will continue to be valid, but people will be sent directly to the destination URL</em></p>
<hr>
<h4><code>beekeeper on &lt;name&gt;</code></h4>
<p><em>Turns a waitroom on that had been previously turned off</em></p>
<hr>
<h4><code>beekeeper set-rate &lt;name&gt; &lt;value&gt;</code></h4>
<p><em>Changes the rate at which people are sent from the waitroom to the final destination. Must be an integer between 10-3000</em></p>
<hr>
<h4><code>DEGUB=dev beekeeper &lt;command&gt;</code></h4>
<p><em>Run a command in debug mode</em></p>
<hr></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Wed May 26 2021 11:31:44 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>